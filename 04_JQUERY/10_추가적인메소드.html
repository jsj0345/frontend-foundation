<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <style>
        .highlight-0 {
            background-color: red;
        }

        .highlight-1 {
            background-color : orange;
        }

        .highlight-2 {
            background-color : yellow;
        }

        .highlight-3 {
            background-color: green;
        }

        .highlight-4 {
            background-color: blue;
        }
    </style>

</head>
<body>

    <h1>추가적인 메소드</h1>
    <h3>*each 메소드</h3>

    <p>
        배열의 모든 인덱스에 순차적으로 접근하고자 할 때 <br>
        객체가 가지고 있는 모든 속성에 순차적으로 접근하고자 할때 <br>
        사용하는 for in / for of문과 유사하게 수행되는 메소드
    </p>

    <pre>
        [표현법]
        1)$.each(객체/배열,function(매개변수1,매개변수2){
            순차적으로 접근하여 수행할 내용
        });

        2)객체/배열.each(function(매개변수1,매개변수2){
            순차적으로 접근하여 수행할 내용
        });

        순차적으로 객체/배열 인덱스에 접근할 때마다 함수가 수행된다. 
        매개변수1,매개변수2는 생략가능

        만약 객체를 제시했다면
        첫번째 매개변수에는 순차적으로 접근된 속성명이 담기고
        두번째 매개변수에는 해당 속성의 값이 담긴다. 

        만약 배열을 제시했다면
        첫번째 매개변수에는 순차적으로 접근된 인덱스가 담기고
        두번째 매개변수에는 해당 인덱스의 값이 담긴다.
    </pre>

    <div id="area1"></div>
    
    <script>
        $(function(){
            //배열을 제시하는 경우
            let arr = ['월','화','수','목','금']; // 자바스크립트식 배열

            //$.each 메소드
            $.each(arr,function(index,value){
                console.log(index,value);

            });

            //두번째 방법 배열.each() 메소드 이용
            // arr.each(function(index,value){
            //     console.log(index,value);

            // });
            // 위에서 정의한 arr은 자바스크립트 형식이기 때문에 제이쿼리 메소드인 each()메소드가 동작하지 않는다.
            //때문에 해당 배열을 제이쿼리화 시켜서 처리해야한다.
            //배열을 제이쿼리화 시키는 방법 : $(배열)
            //일반 배열에는 불가능하니 제이쿼리 객체화 시켜서 처리하는 문법(보통은 제이쿼리 선택자로 잡은 요소들 기준으로 사용)
          

            //이부분 알아두기 
            $(arr).each(function(index,value){
                console.log(index,value);
            });

            /*
            순수 자바스크립트에서도 배열을 반복 수행하며 함수 처리하는 문법
            forEach 문법
            [표현법]
            배열.forEach(function(매개변수1,매개변수2){
              *매개변수1 : 현재값, 매개변수2 : 인덱스
              제이쿼리 each와는 반대
            }
            */

            console.log("======");

            arr.forEach(function(value,index){ // 순수 자바스크립트 문법 

                console.log(value,index);

            });

            /*

             $.each : 제이쿼리 문법이며 배열 또는 객체 제시 가능
             $(배열 또는 제이쿼리 선택자).each() : 제이쿼리 문법이며 제이쿼리 객체 대상으로 처리 가능
             배열.forEach() : 자바스크립트 문법이며 배열만 제시 가능(위 구문과 다르게 매개변수 순서 - 값, 인덱스)

            */

            //객체 제시
            let student = {
                name : '김객체',
                age : 30,
                address : '제주'
            };


            //key : 속성명 , value : 속성값
            $.each(student,function(key,value){

                console.log(key,value);

            });

            //객체 배열 처리

            let links = [
                {name: '네이버',link: 'https://www.naver.com'},
                {name: '구글', link: 'https://www.google.com'},
                {name: '다음', link: 'https://www.daum.net'}
            ];

            //$.each 사용
            $.each(links,function(index,item){

                let el = $("<a>").attr("href",item.link).text(item.name);

                $("#area1").append(el,$("<br>"));     


            });




        });
    </script>

    <br><br>

    <div id="wrap">
        <h1>item-1</h1>
        <h1>item-2</h1>
        <h1>item-3</h1>
        <h1>item-4</h1>
        <h1>item-5</h1>
    </div>

    <script>
        $(function(){
            //위에 작성된 h1요소들을 선택하여 each메소드를 이용해 위 스타일에 정의해놓은 highlight 클래스 부여하기


            //$로 감싸는 순간 제이쿼리 객체 반환이라고 판단해도좋다. 
            console.log($("#wrap>h1"));

            $.each($("#wrap>h1"),function(index){

                $(this).addClass("highlight"+"-"+index); // 맨위에 h1태그가 있어서 선택자를 좀 더 구체적으로. 

                //이벤트 핸들러나 반복문에서 현재 접근되어있는 요소를 지정하는 키워드 : this
                //this를 제이쿼리 객체화 시키려면 $(this)로 처리하기
                //위와같이 제이쿼리 객체화를 시키면 제이쿼리 메소드를 사용할 수 있게된다.

                //$(this)는 현재 태그를 기반으로 객체를 생성했으니 당연히 작동된다. 

                console.log(this);

            });

            /*
            강사님 풀이

            $("#wrap>h1").each(function(index,item){
              console.log(index,item);
              //접근된 요소가 자바스크립트 형식이기때문에 제이쿼리 메소드인 addClass가 동작하지 않는다. 
              //제이쿼리화 시키기 
              //item.addClass("highlight-"+index);
              
              //item.className = "highlight-"+index; 자바스크립트 방식
              //$(item).addClass("highlight-"+index); 제이쿼리객체화 시키기
              //현재 요소객체 접근하는 방법
              $(this).addClass("highlight-"+index); 

              console.log(this);



            });

            */

        });
    </script>

    <br>

    <hr>

    <h3>* is 메소드</h3>
    <p>
        $("선택자").is("선택자") <br>
        선택된 요소가 내가 전달한 전달값과 일치하는지 판단하여 그에 해당하는 논리값 반환
    </p>

    <div id="isTest">
        <h3 class="test">test1</h3>
        <h3>test2</h3>
        <h3 class="test">test3</h3>
        <h3 class="test">test4</h3>
        <h3>test5</h3>
        <h3 class="test">test6</h3>
    </div>
    


    <script>
        $(function(){
            //h3 태그를 잡아 test class 를 가진 요소만 배경색 지정
            console.log($("h3"));

            $("h3").each(function(){

              //현재 접근한 h3요소가 test라는 클래스를 가졌는지 확인

              //console.log($(this).is(".test"));

              if($(this).is(".test")) {
                $(this).css("background-color",'purple');
              } else {
                $(this).css("background-color",'black').css('color','white');
              }

            });
        });
    </script>
</body>
</html>